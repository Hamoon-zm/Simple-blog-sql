<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('includes/head', { title: 'All Posts' }) %>
    <link rel="stylesheet" href="/styles/posts.css" />
  </head>

  <body>
    <%- include('includes/header') %>

    <main id="all-posts">
      <div id="container">
      <h1>All Posts</h1>
        
        <form action="/posts" method="GET">
          <input type="hidden" name="order" value="<%= nextOrder %>" >
          <button id='order'class="btn">Change Order</button>
        </form>
      
    </div>
      <% if(!posts || posts.length === 0) {%>
      <p>No posts found- you can make one now!</p>
      <a class="btn" href="/new-post">Create a post!</a>
      <% } else {%>
      <ol id="post-list">
        <% for(const post of posts){ %>
        <li><%- include('includes/post-item', {post: post }) %></li>
        <% } %>
      </ol>
      <% } %>
    </main>
    <%- include('includes/footer') %> 

  </body>
</html>
